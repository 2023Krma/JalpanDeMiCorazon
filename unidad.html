<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unidad Familiar - Jalpan de mi Corazón</title>
    <!-- Fuentes e iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fuentes personalizadas -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Open+Sans&display=swap" rel="stylesheet">
    <!-- Estilos -->
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/secciones.css?v=6">
    <!-- PWA y Favicon -->
    <link rel="manifest" href="manifest.json?v=5"/>
    <link rel="icon" href="./img/pwa/32.png?v=5" type="image/png">
</head>
<body class="section-unidad">
    <!-- Navbar fijo -->
    <header class="navbar navbar-expand-lg navbar-fixed">
        <div class="header-logo">
            <a href="index.html">
                <img src="img/logo_jalpan.png" alt="Logo de Jalpan" class="img-fluid">
            </a>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menuNavbar" aria-controls="menuNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="menuNavbar">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item" data-section="unidad"><a href="unidad.html" class="nav-link header-link"><span>Unidad familiar</span><span>y su gente</span></a></li>
                <li class="nav-item" data-section="misiones"><a href="misiones.html" class="nav-link header-link"><span>Misiones</span><span>Franciscanas</span></a></li>
                <li class="nav-item" data-section="huapango"><a href="huapango.html" class="nav-link header-link"><span>Huapango y</span><span>tradiciones</span></a></li>
                <li class="nav-item" data-section="gastronomia"><a href="gastronomia.html" class="nav-link header-link"><span>Gastronomía</span><span>serrana</span></a></li>
                <li class="nav-item" data-section="presa"><a href="presa.html" class="nav-link header-link"><span>La presa Jalpan y</span><span>cuerpos de agua</span></a></li>
                <li class="nav-item" data-section="tancama"><a href="tancama.html" class="nav-link header-link"><span>Zona arqueológica</span><span>Tancama</span></a></li>
                <li class="nav-item" data-section="naturaleza"><a href="naturaleza.html" class="nav-link header-link"><span>Riqueza natural</span><span>y biodiversidad</span></a></li>
            </ul>
        </div>
    </header>
    <div class="menu-placeholder"></div>

    <div class="section-wrapper content-margin">
        <section class="gallery-section py-5">
            <div class="container">
                <h1 class="main-title text-center mb-4">Unidad Familiar y su Gente</h1>
                
                <!-- Fiestas Comunitarias Section -->
                <h2 class="secondary-title text-center mb-3">Fiestas Comunitarias</h2>
                <p class="section-description text-center mb-5">
                    Las fiestas comunitarias de Jalpan reúnen a las familias en celebraciones llenas de música, danza y tradiciones que fortalecen los lazos de la comunidad.
                </p>
                <div class="row gallery-grid mb-5" id="fiestas-gallery">
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="fiestas-1">
                        <div class="gallery-img-container">
                            <img src="img/familia/familia_fiesta.jpg" class="img-fluid gallery-img" alt="Fiestas Comunitarias">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Fiestas Comunitarias</h5>
                            <p class="gallery-text">Celebraciones que unen a las familias de Jalpan en un ambiente de alegría y comunidad.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="fiestas-2">
                        <div class="gallery-img-container">
                            <img src="img/familia/fiesta_2.jpg" class="img-fluid gallery-img" alt="Danzas Tradicionales">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Danzas Tradicionales</h5>
                            <p class="gallery-text">Presentaciones de danzas folclóricas que reflejan la rica cultura de Jalpan.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="fiestas-3">
                        <div class="gallery-img-container">
                            <img src="img/familia/fiesta_3.jpg" class="img-fluid gallery-img" alt="Feria Anual">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Feria Anual</h5>
                            <p class="gallery-text">Un evento lleno de música, comida y actividades para toda la familia.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="fiestas-4">
                        <div class="gallery-img-container">
                            <img src="img/familia/fiesta_4.jpg" class="img-fluid gallery-img" alt="Celebraciones Religiosas">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Celebraciones Religiosas</h5>
                            <p class="gallery-text">Procesiones y misas que unen a la comunidad en fe y tradición.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="fiestas-5">
                        <div class="gallery-img-container">
                            <img src="img/familia/fiesta_5.jpg" class="img-fluid gallery-img" alt="Juegos Tradicionales">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Juegos Tradicionales</h5>
                            <p class="gallery-text">Actividades al aire libre que fomentan la convivencia familiar.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="fiestas-6">
                        <div class="gallery-img-container">
                            <img src="img/familia/fiesta_6.jpg" class="img-fluid gallery-img" alt="Gastronomía Festiva">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Gastronomía Festiva</h5>
                            <p class="gallery-text">Platillos típicos que deleitan en cada celebración comunitaria.</p>
                        </div>
                    </div>
                </div>

                <!-- Nuestra Gente Section -->
                <h2 class="secondary-title text-center mb-3">Nuestra Gente</h2>
                <p class="section-description text-center mb-5">
                    Conoce a los habitantes de Jalpan, cuya calidez, hospitalidad y dedicación dan vida a este pueblo mágico.
                </p>
                <div class="row gallery-grid" id="gente-gallery">
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="gente-1">
                        <div class="gallery-img-container">
                            <img src="img/familia/Gente_local.jpg" class="img-fluid gallery-img" alt="La Gente de Jalpan">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">La Gente de Jalpan</h5>
                            <p class="gallery-text">Conoce a los habitantes que dan vida al pueblo con su calidez y hospitalidad.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="gente-2">
                        <div class="gallery-img-container">
                            <img src="img/familia/tradiciones_familiares.jpg" class="img-fluid gallery-img" alt="Tradiciones Familiares">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Tradiciones Familiares</h5>
                            <p class="gallery-text">Costumbres que pasan de generación en generación, fortaleciendo los lazos familiares.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="gente-3">
                        <div class="gallery-img-container">
                            <img src="img/familia/gente_3.jpg" class="img-fluid gallery-img" alt="Artesanos Locales">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Artesanos Locales</h5>
                            <p class="gallery-text">Habilidosos creadores que preservan las técnicas tradicionales de Jalpan.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="gente-4">
                        <div class="gallery-img-container">
                            <img src="img/familia/gente_4.jpg" class="img-fluid gallery-img" alt="Músicos Serranos">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Músicos Serranos</h5>
                            <p class="gallery-text">Talentos que llenan de música las calles y fiestas de Jalpan.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="gente-5">
                        <div class="gallery-img-container">
                            <img src="img/familia/gente_5.jpg" class="img-fluid gallery-img" alt="Comerciantes Amables">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Comerciantes Amables</h5>
                            <p class="gallery-text">Vendedores que reciben a los visitantes con una sonrisa y productos locales.</p>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-4 mb-4 gallery-item" data-section="gente-6">
                        <div class="gallery-img-container">
                            <img src="img/familia/gente_6.jpg" class="img-fluid gallery-img" alt="Familias Unidas">
                        </div>
                        <div class="gallery-caption">
                            <h5 class="gallery-title">Familias Unidas</h5>
                            <p class="gallery-text">Hogares que reflejan el espíritu comunitario y acogedor de Jalpan.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer class="site-footer">
        <div class="footer-top-line"></div>
        <div class="container">
            <div class="footer-wrapper">
                <div class="footer-brand">
                    <img src="img/logo_corazon.png" alt="Logo Jalpan de mi Corazón" class="footer-logo">
                    <h5>Jalpan de mi Corazón</h5>
                    <p>Descubre la Sierra Gorda</p>
                </div>
                <div class="footer-links-section">
                    <h5>Explora</h5>
                    <ul class="footer-links">
                        <li><a href="misiones.html" style="--link-color: #E2107A">Cultura</a></li>
                        <li><a href="gastronomia.html" style="--link-color: #F6AE33">Gastronomía</a></li>
                        <li><a href="naturaleza.html" style="--link-color: #299442">Naturaleza</a></li>
                    </ul>
                </div>
                <div class="footer-info-section">
                    <h5>Información</h5>
                    <ul class="footer-info">
                        <li><a href="#about">Sobre Nosotros</a></li>
                        <li><a href="#contact">Contáctanos</a></li>
                        <li><a href="#privacy">Política de Privacidad</a></li>
                    </ul>
                </div>
                <div class="footer-social-section">
                    <h5>Síguenos</h5>
                    <ul class="social-links">
                        <li><a href="https://www.facebook.com/profile.php?id=61555317347262" target="_blank" rel="noopener noreferrer" style="--social-color: #7D3A8E"><i class="fab fa-facebook-f"></i></a></li>
                        <li><a href="https://www.instagram.com/jalpan_de_mi_corazon/" target="_blank" rel="noopener noreferrer" style="--social-color: #E2107A"><i class="fab fa-instagram"></i></a></li>
                        <li><a href="https://www.tiktok.com/@jalpandemicorazon" target="_blank" rel="noopener noreferrer" style="--social-color: #DE0737"><i class="fab fa-tiktok"></i></a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 Jalpan de mi Corazón. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js?v=5"></script>
    <!-- Firebase comentado -->
    <!--
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD8kj9qzjsXdpurnz9MzvAGGs0DLdtxPpM",
            authDomain: "jalpandemicorazon-750b6.firebaseapp.com",
            projectId: "jalpandemicorazon-750b6",
            storageBucket: "jalpandemicorazon-750b6.firebasestorage.app",
            messagingSenderId: "426851112931",
            appId: "1:426851112931:web:6e1cd9367f7c05f423f2d6",
            measurementId: "G-7LP7HXXJG2"
        };

        console.log('🚀 Inicializando Firebase para Unidad Familiar');
        let app, db;
        try {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            console.log('✅ Firebase inicializado correctamente');
        } catch (error) {
            console.error('❌ Error al inicializar Firebase:', error);
        }

        async function loadGalleryData(sectionId) {
            console.log(`🔍 Iniciando carga para ${sectionId}`);
            const galleryItem = document.querySelector(`.gallery-item[data-section="${sectionId}"]`);
            if (!galleryItem) {
                console.error(`❌ ERROR: No se encontró .gallery-item[data-section="${sectionId}"]`);
                return;
            }

            const imgElement = galleryItem.querySelector('.gallery-img');
            const textElement = galleryItem.querySelector('.gallery-text');

            if (!imgElement || !textElement) {
                console.error(`❌ ERROR: Elementos no encontrados en ${sectionId} - img: ${!!imgElement}, text: ${!!textElement}`);
                return;
            }

            const defaultText = textElement.textContent; // Guardar texto inicial

            try {
                console.log(`📡 Conectando a Firestore para ${sectionId}`);
                const docRef = doc(db, 'unidad_familiar', sectionId);
                const docSnap = await getDoc(docRef);

                if (docSnap.exists()) {
                    const data = docSnap.data();
                    console.log(`✅ Datos para ${sectionId}:`, data);
                    console.log(`📝 Descripción: "${data.descripcion}"`);
                    console.log(`🖼️ Imagen URL: "${data.imagenUrl}"`);

                    // Actualizar imagen
                    if (data.imagenUrl && data.imagenUrl.trim()) {
                        imgElement.src = data.imagenUrl;
                        console.log(`✔️ Imagen actualizada para ${sectionId}: ${data.imagenUrl}`);
                    } else {
                        console.warn(`⚠️ Imagen URL vacía o no válida para ${sectionId}: "${data.imagenUrl}"`);
                    }
                    imgElement.alt = galleryItem.querySelector('.gallery-title')?.textContent || sectionId;

                    // Actualizar descripción
                    if (data.descripcion && data.descripcion.trim()) {
                        textElement.textContent = data.descripcion;
                        console.log(`✔️ Descripción actualizada para ${sectionId}: "${data.descripcion}"`);
                    } else {
                        console.warn(`⚠️ Descripción vacía o no válida para ${sectionId}: "${data.descripcion}"`);
                        textElement.textContent = defaultText; // Mantener texto inicial si no hay descripción
                    }
                } else {
                    console.error(`❌ ERROR: No existe documento para ${sectionId} en la colección "unidad_familiar"`);
                    textElement.textContent = 'Contenido no disponible.';
                }
            } catch (error) {
                console.error(`❌ ERROR al cargar ${sectionId}:`, error);
                textElement.textContent = 'Hubo un problema al cargar el contenido.';
            }
        }

        if (document.body.classList.contains('section-unidad')) {
            console.log('🚀 Cargando datos para Unidad Familiar');
            ['fiestas', 'gente', 'tradiciones'].forEach(sectionId => {
                loadGalleryData(sectionId);
            });
        }
    </script>
    -->
</body>
</html>